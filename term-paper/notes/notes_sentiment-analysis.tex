\documentclass[12pt, letterpaper]{article}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{parskip}

\usepackage{graphicx}
\graphicspath{{../images/}}

\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    urlcolor=blue,
    linkcolor=blue,
    citecolor=blue,
    filecolor=blue,
}
\urlstyle{same}



\begin{document}

\section*{Notes to Sentiment Analysis}

%Sources: 
%Analysis: https://towardsdatascience.com/a-beginners-guide-to-sentiment-analysis-in-python-95e354ea84f6
%Package: https://huggingface.co/transformers/v3.0.2/main_classes/pipelines.html
%Model: https://huggingface.co/transformers/v3.0.2/model_doc/distilbert.html

Sentiment analysis is used to detect the underlying sentiment of a text. Therefore, it classifies
the text as either positive or negative. 

First, in order to visualize the most frequently used words in the reviews to give us a short overview, 
we created two so-called word clouds, one in English and one in Norwegian. To just have the important words 
in this representation, the stop words were
excluded from the analysis. What is most striking here is that in both plots 
predominantly positive words are printed.
The largest printed and thus most frequently used words in English are apartement, Oslo and place and 
further clean, comfortable, helpful and easy. Also in the Norwegian plot there are mainly positive expressions like
"anbefale" (engl. recommend), "fin" (engl. fine) and "flott leilighet" (engl. great apartement).

To obtain a more informed analysis, we then performed a detailed sentiment analysis for each review.
To do this, we used the \textit{transformers} package, more specifically we used the \textit{pipeline} function 
with the \textit{task} argument set to \textit{sentiment-analysis}, which is used for classifying sequences
according to positive or negative sentiments (s. documentation). The used model is DistlBERT, 
a small, fast, cheap and light Transformer model. This distilled version of BERT, has 40\% 
less parameters and runs 60\% faster while preserving over 95\% of Bert's performances as 
measured on the GLUE language understanding benchmark. (?, s. documentation).

The results are stored in a new data frame and applied in feature engineering to generate the
new feature "proportion of negative reviews". 





\newpage
Word clouds:

\begin{itemize}
    \item generated word clouds out of the 77,000 reviews; one in english, one in norwegian
    \item what is conspicuous: mostly positive words in both
    \item "biggest" and therefore most often used words in english: apartement, Oslo, place and further clean, comfortable, 
    helpful and easy
    \item in norwegian: "leiligheten" (apartement), Oslo, "anbefale" (recommend), "flott" (great), "alt" (everything)
\end{itemize}

Sentiment Analysis

\begin{itemize}
    \item used "transformers" package; pipeline function
    \item pipeline "sentiment-analysis", distilbert algorithm
    \item now use this to decide if a review is positive or negative
    \item save in new dataframe
    \item used to expand the listings dataframe with the new column: fraction negative reviews
\end{itemize}




\end{document}